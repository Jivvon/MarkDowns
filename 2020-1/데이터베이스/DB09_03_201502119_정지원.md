##### 201502119 정지원

# READ UNCOMMITTED vs READ COMMITTED

> 수행 전 SET AUTOCOMMIT = 0 을 실행하여 자동으로 커밋되는 것을 방지한다.
>
> <img src="/Users/jiwon/Library/Application Support/typora-user-images/스크린샷 2020-06-05 오전 8.33.42.png" alt="스크린샷 2020-06-05 오전 8.33.42" style="zoom:50%;" />

#### READ UNCOMMITTED

ISOLATION LEVEL을  READ UNCOMMITTED로 바꾼다

<img src="/Users/jiwon/Library/Application Support/typora-user-images/스크린샷 2020-06-05 오전 8.36.19.png" alt="스크린샷 2020-06-05 오전 8.36.19" style="zoom:50%;" />

TRANSACTION1을 시작한 후 user 테이블을 확인하면 다음과 같다

<img src="/Users/jiwon/Library/Application Support/typora-user-images/스크린샷 2020-06-05 오전 8.51.36.png" alt="스크린샷 2020-06-05 오전 8.51.36" style="zoom:50%;" />

TRANSACTION2를 시작한 후 user 테이블을 업데이트 한다

<img src="/Users/jiwon/Library/Application Support/typora-user-images/스크린샷 2020-06-05 오전 8.52.19.png" alt="스크린샷 2020-06-05 오전 8.52.19" style="zoom:50%;" />

이후 TRANSACTION1에서 user테이블을 조회한다

<img src="/Users/jiwon/Library/Application Support/typora-user-images/스크린샷 2020-06-05 오전 8.54.08.png" alt="스크린샷 2020-06-05 오전 8.54.08" style="zoom:50%;" />

TRANSACTION2에서 COMMIT을 하지 않았음에도 불구하고 TRANSACTION1에서는 변경된 데이터를 불러올 수 있다.

#### READ COMMITTED

ISOLATION LEVEL을  READ COMMITTED로 바꾼다

<img src="/Users/jiwon/Library/Application Support/typora-user-images/스크린샷 2020-06-05 오전 8.34.38.png" alt="스크린샷 2020-06-05 오전 8.34.38" style="zoom:50%;" />

TRANSACTION1을 시작한 후 user 테이블을 확인하면 다음과 같다

<img src="/Users/jiwon/Library/Application Support/typora-user-images/스크린샷 2020-06-05 오전 8.45.34.png" alt="스크린샷 2020-06-05 오전 8.45.34" style="zoom:50%;" />

TRANSACTION2를 시작한 후 user 테이블을 업데이트 한다

<img src="/Users/jiwon/Library/Application Support/typora-user-images/스크린샷 2020-06-05 오전 8.46.24.png" alt="스크린샷 2020-06-05 오전 8.46.24" style="zoom:50%;" />

이후 TRANSACTION1에서 user테이블을 조회한다

<img src="/Users/jiwon/Library/Application Support/typora-user-images/스크린샷 2020-06-05 오전 8.47.42.png" alt="스크린샷 2020-06-05 오전 8.47.42" style="zoom:50%;" />

TRANSACTION2에서 COMMIT을 하지 않았으므로 TRANSACTION1에서는 변경된 데이터를 불러올 수 있다.

### 결과

TRANSACTION ISOLATION이 **READ UNCOMMITTED**일 경우, **TRANSACTION2** 에서 `COMMIT` 하지 않았음에도 불구하고, **TRANSACTION1** 에서는 변경된 데이터를 읽을 수 있지만, 

TRANSACTION ISOLATION이 **READ COMMITTED**일 경우, **TRANSACTION2** 에서 `COMMIT` 하지 않으면, **TRANSACTION1** 에서는 변경된 데이터를 읽을 수 없다는 것을 알 수 있다. 

> *dirty read* : `COMMIT` 되지 않은 신뢰할 수 없는 데이터를 읽는 것
>
> READ UNCOMMITTED일 경우에만 *dirty read* 를 확인할 수 있다.