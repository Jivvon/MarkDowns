###RDBMS

- Relational Database Management System
  - 안전함(safe) : 트랜잭션의 보장
  - 안정적(reliable) : 고가용성(HA) - 1년에 99.99% 시간 동작을 보장
  - 효율적(efficient) : 다사용자 / 대용량 데이터를 동시 처리
  - 편리(convenienet) : 선언적 언어인 SQL 사용하므로 알고리즘 신경쓸 필요 없음. 데이터 독립성.
- 대용량 데이터를 영구적으로 저장, 관리, 접근

---

### DDL

- Data **Definition** Language (데이터 정의어)
- 스키마에 대한 정의
- 종류
  - CREATE
  - DROP
  - ALTER
  - RENAME

### DML

- Data **Manipulation** Language (데이터 조작어)
- 데이터에 대한 조작
- 종류
  - SELECT
  - INSERT
  - UPDATE
  - DELETE

### DCL

- Data **Control** Language (데이터 조작어)
- 사용자는 DCL을 사용하여 데이터베이스 트랜잭션을 명시하고 권한을 부여하거나 취소

---

### DBMS 사용자

- 데이터베이스 관리자 (**DBA** : Database Administrator)
  - 스키마 생성 / 변경
  - 무결성 제약조건 명시
  - 사용자의 권한 수정 및 역할 관리
  - 저장 구조와 접근 방법(물리적 스키마) 정의
  - 백업 & 회복
  - 표준화 시행
- 응용 프로그래머
  - DB 위에서 특정 응용이나 I/F 구현하는 사람
- 최종 사용자 (end user)
- 데이터베이스 설계자 (database designer)
  - 데이터베이스의 일관성을 유지하기 위해 정규화 수행
- 오퍼레이터
  - DBMS가 운영되고 있는 컴퓨터 시스템과 전산실을 관리하는 사람

---

### ANSI / SPARC 아키텍처

- 현재의 대부분 상용 DBMS는 ANSI / SPARC 아키텍처로 구현됨
- ANSI / SPARC 아키텍처의 3단계
  - 외부 단계 (external level) : 각 사용자의 뷰
  - 개념 단계 (conceptual level) : 사용자 공동체의 뷰
    - 조직체의 정보 모델로서, 물리적인 구현은 고려하지 않으면서 조직체 전체에 관한 스키마를 포함
    - 데이터베이스에 어떤 데이터가 저장되어 있으며, 데이터 간에는 어떤 관계가 존재하고, 어떤 무결성 제약조건들이 명시되어 있는가를 기술함
    - 데이터베이스마다 오직 한 개의 개념 스키마가 존재
  - 내부 단계 (internal level) : 실제의 물리적인 데이터 구조에 관한 스키마
    - 데이터베이스에 어떤 데이터가 어떻게 저장되어 있는가를 기술함
    - 인덱스**,** 해싱 등과 같은 접근 경로, 데이터 압축 등을 기술함
    - 데이터베이스의 개념 스키마에는 영향을 미치지 않으면서 성능을 향상시키기 위해 내부 스키마를 변경하는 것이 바람직
    - 내부 단계 아래에 있는 물리적 단계는 **DBMS**의 지시에 따라 운영 체제가 관리

---

### 스키마 간의 사상

**DBMS**는 세 가지 유형의 스키마 간의 사상을 책임짐

- 외부 / 개념 사상 (external / conceptual mapping) : 외부 단계의 뷰를 사용해서 입력된 사용자의 질의를 _개념 단계의 스키마를 사용한 질의로 변환_

- 개념 / 내부 사상 (conceptual / internal mapping) : 개념 단계의 스키마를 내부 단계의 스키마로 변환하여 디스크의 데이터베이스에 접근

### 데이터 독립성

상위 단계의 스키마 정의에 영향을 주지 않으면서 어떤 단계의 스키마 정의를 변경할 수 있음

- 논리적 데이터 독립성 (logical data independence)
  - 개념 스키마의 변화로부터 외부 스키마가 영향을 받지 않음. 즉, 응용 프로그램을 다시 작성할 필요 없이 개념 스키마에 대한 변화가 가능해야 함
- 물리적 데이터 독립성 (physical data independence)
  - 내부 스키마의 변화로부터 개념 스키마가 영향을 받지 않음. 즉, 개념 외부 모두 영향 x (ex. 인덱스 생성 및 삭제)

![스크린샷 2020-03-24 오후 9.16.57](../images/스크린샷 2020-03-24 오후 9.16.57.png)

---

> > 귀찮아서 일단 복붙
>
> **1.7** 데이터베이스 시스템 아키텍처**(**계속**)**
>
> 데이터 정의어 컴파일러**(DDL compiler)** 모듈
> 데이터 정의어를 사용하여 테이블 생성을 요청하면 테이블을 파일 형태
>
> 로 데이터베이스에 만들고**,** 이 테이블에 대한 명세를 시스템 카탈로그에 저장
>
> 질의 처리기**(query processor)** 모듈
> 데이터 조작어를 수행하는 최적의 방법을 찾는 모듈을 통해서 기계어 코
>
> 드로 번역
>
> 런타임 데이터베이스 관리기**(run-time database manager)** 모듈 디스크에 저장된 데이터베이스를 접근
>
> 트랜잭션 관리**(transaction management)** 모듈 동시성 제어**(concurrency control)** 모듈
>
> 회복**(recovery)** 모듈
>
> **1.7** 데이터베이스 시스템 아키텍처**(**계속**)**
>
> 데이터베이스 **API(Application Program Interface)
> ODBC(Open Database Connectivity)**는 마이크로소프트 사가 주도적으로
>
> 개발한 데이터베이스 **API
> ODBC**를 지원하는 **DBMS** 간에는 서로 상대방의 데이터베이스를 접근
>
> 할 수 있음
>
> **1.7** 데이터베이스 시스템 아키텍처**(**계속**)**
>
> 중앙 집중식 데이터베이스 시스템**(centralized database system)** 데이터베이스 시스템이 하나의 컴퓨터 시스템에서 운영됨
>
> **1.7** 데이터베이스 시스템 아키텍처**(**계속**)**
>
> 분산 데이터베이스 시스템**(distributed database system)
> ** 네트워크로 연결된 여러 사이트에 데이터베이스 자체가 분산되어 있으며**,** 데이
>
> 터베이스 시스템도 여러 컴퓨터 시스템에서 운영됨
> 사용자는 다른 사이트에 저장된 데이터베이스도 접근할 수 있음
>
> **1.7** 데이터베이스 시스템 아키텍처**(**계속**)**
>
> 클라이언트**-**서버 데이터베이스 시스템**(client-server database system)** **PC** 또는 워크스테이션처럼 자체 컴퓨팅 능력을 가진 클라이언트를 통해
>
> 데이터베이스 서버를 접근
> 데이터베이스가 하나의 데이터베이스 서버에 저장되어 있음 데이터베이스 시스템의 기능이 서버와 클라이언트에 분산됨
> 서버는 데이터베이스를 저장하고 **DBMS**를 운영하면서 여러 클라이언트
>
> 에서 온 질의를 최적화하고**,** 권한 검사를 수행하고**,** 동시성 제어와 회복 기능을 수행하고**,** 데이터베이스의 무결성을 유지하고**,** 데이터베이스 접 근을 관리
>
> 클라이언트는 사용자 인터페이스를 관리하고 응용들을 수행
>
> **1.7** 데이터베이스 시스템 아키텍처**(**계속**)**
>
> **2**층 모델**(2-tier model)** 클라이언트와 데이터베이스
>
> 서버가 직접 연결됨 **3**층 모델**(3-tier model)**
>
> 클라이언트와 데이터베이스 서버 사이에 응용 서버가 추가됨
>
> **1.7** 데이터베이스 시스템 아키텍처**(**계속**)**
>
> 클라이언트**-**서버 데이터베이스 시스템의 장점 데이터베이스를 보다 넓은 지역에서 접근할 수 있음
>
> 다양한 컴퓨터 시스템을 사용할 수 있음
>
> 클라이언트**-**서버 데이터베이스 시스템의 단점 보안이 다소 취약할 수 있음

---

### Primary key, Foreign key

#### 제약조건

- cascade : 참조하는 튜플이나 값을 연쇄적으로 삭제 / 변경
  - on delete : 참조하는 모든 튜플들을 삭제
  - on update : 참조하는 모든 Rental 튜플의 accountId를 새로운 값으로 변경
- set null
- set default
- not null
